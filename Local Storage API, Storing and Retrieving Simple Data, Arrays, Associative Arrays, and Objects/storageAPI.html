<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>CIT 261 - Examples of Local Storage API, Storing and Retrieving Simple Data, Arrays, Associative Arrays, and Objects</title>
	<script type="text/javascript">
		var friendsList = new Array();
		function addFriend() {
			friendsList.push(document.getElementById('names').value);
			if(typeof(Storage) !== "undefined") {
				
					localStorage.setItem("friends", JSON.stringify(friendsList));
					document.getElementById('names').value='';
					document.getElementById("outputDiv").innerHTML = "Your friend's names are: " + friendsList;

			} else {
				document.getElementById("outputDiv").innerHTML = "Sorry, your browser does not support web storage...";
			}
		}
		
		function reset(){
			friendsList = [];
			document.getElementById("outputDiv").innerHTML = "";
		}
		
		function retrieve(){
			document.getElementById("outputDiv2").innerHTML = localStorage.friends + " See, I don't forget!";
		}
		
		function coolness(){
		var retrieve = localStorage.getItem("friends");
			var names = JSON.parse(retrieve);
			for (i = 0; i < names.length; i++){
				var random = Math.floor((Math.random() * 50) + 1);
				if (names[i] == document.getElementById("name2").value){
						if (random < 25){
							document.getElementById("outputDiv3").innerHTML = names[i] + " is cool.";
							break;
						}else{
							document.getElementById("outputDiv3").innerHTML = names[i] + " is lame!";
							break;
						}
				} else{
					document.getElementById("outputDiv3").innerHTML = "You don't have any friends named " + document.getElementById("name2").value + ".";
				}
				
			}
			
			
			}
		
	</script>
	
</head>

<body>
	<header>
		<h1>CIT 261 - Kailey Dilworth</h1>
		<h2>Application Development</h2>
	</header>
		<h2>Local Storage API:</h2>
		<p>Let's make a list of your friend's names. Don't worry, I won't forget them.</p>
		<input type="text" id="names"></input>
		<button onclick="addFriend()">Enter Friend</button>
		<button onclick="reset()">Reset Friend List</button>
		<div id="outputDiv"></div>
	
		<p>What are their names again? (I will remember even if you refresh the page! Making a new friend list will reset/replace the old one stored.)</p>
		<button onclick="retrieve()">Retrieve List</button>
		<div id="outputDiv2"></div>
		
		<p>Now, let's see if your friends are cool or lame! Enter the name of a friend you have added to your friends list!</p>
		<input type="text" id="name2"></input>
		<button onclick="coolness()">Check Coolness</button>
		<div id="outputDiv3"></div>
</body>

</html>